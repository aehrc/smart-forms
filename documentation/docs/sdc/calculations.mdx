---
sidebar_position: 4
---

import IframeContainer from '../../src/react/IframeContainer';

# Calculations

Calculations are used to dynamically calculate the value of a question based on the values of other questions.

The extensions that fall under this category are:

- [variable](http://hl7.org/fhir/uv/sdc/expressions.html#variable)
- [calculatedExpression](http://hl7.org/fhir/uv/sdc/expressions.html#calculatedExpression)
- [cqf-expression](http://hl7.org/fhir/uv/sdc/behavior.html#cqf-expression)

### Variable

Used to define a variable that is available for use in [expressions](http://hl7.org/fhir/uv/sdc/expressions.html) within the same item and any descendant items. This allows it to be consumed by calculatedExpressions when the renderer executes a calculation.

For more information, refer to http://hl7.org/fhir/uv/sdc/expressions.html#variable.

For usages, refer to the [CalculatedExpression](#calculatedexpression) section on this page.

### CalculatedExpression

The basis of calculations in SDC. Allows an item value to update continuously as the answers to dependent questions change.
In Smart Forms, calculated expressions are driven by [FHIRPath](https://hl7.org/fhir/fhirpath.html).

View calculatedExpression usages for various item types in [Storybook's Item Type Calculations section](https://smartforms.csiro.au/storybook/?path=/story/sdc-10-1-3-behavior-calculations-item-type-calculations--boolean-calculation).

#### BMI Calculation usage

<IframeContainer
  storyId="sdc-10-1-3-behavior-calculations-item-type-calculations--decimal-calculation"
  initialHeight={350}
/>

#### Old Absolute Cardiovascular Risk Calculation usage

<IframeContainer
  storyId="sdc-10-1-3-behavior-calculations--old-cvd-risk-calculator"
  initialHeight={1100}
/>

#### Chained Calculations usage

<IframeContainer
  storyId="sdc-10-1-3-behavior-calculations--chained-calculation"
  initialHeight={250}
/>

### Cqf-expression

While calculated expressions are used to update the value of a question dynamically, cqf-expression is used to update the elements/controls within the Questionnaire resource itself during render runtime.

#### Basic usage

<IframeContainer
  storyId="sdc-10-1-3-behavior-calculations-cqfexpression-calculations--display-calculation-basic"
  initialHeight={360}
/>

#### Styled usage

<IframeContainer
  storyId="sdc-10-1-3-behavior-calculations-cqfexpression-calculations--display-calculation-styled"
  initialHeight={360}
/>
